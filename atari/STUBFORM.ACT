; Program: STUBFORM.ACT›; Author.: Wade Ripkowski›; Date...: 2021.01›; Desc...: Form Input Test   ›; License: GNU General Public License v3.0›; Notes..: !!! Before Compiling !!!›;          MUST RUN BIGST.ACT 1st!›;          With: bigST='D›;          Then: SET $495=12››; Include library›INCLUDE "D1:DEFINES.ACT"›INCLUDE "D1:DEFWIN.ACT"›INCLUDE "D1:LIBSTR.ACT"›INCLUDE "D1:LIBMISC.ACT"›INCLUDE "D1:LIBWIN.ACT"›INCLUDE "D1:LIBGADG.ACT"›INCLUDE "D1:LIBMENU.ACT"››; Start›MODULE›››; -----------------------------------›; Func..: Form()›; Descr.: Demonstation input form›;         using multiple gadgets.                               ›; -----------------------------------›BYTE FUNC Form()›BYTE bR=[FALSE]›BYTE bW1,bM,bA,bB,bC,bD›BYTE bRA,bRB,bRAp,bRBp›BYTE bCha,bChb,bChc,bChap,bChbp,bChcp›CHAR ARRAY cA(41),cB(41),cC(41),cD(41)›CARD ARRAY aB(2)›CARD ARRAY rA(3),rB(3)››; Strings for navigation footer›CHAR ARRAY cF="Nav:   "›CHAR ARRAY cI="Nav:^cS^cE"›CHAR ARRAY cR="Nav:   "›CHAR ARRAY cX="Nav:X      "››; Setup buttons›; Element 0 will be seletion 1›aB(0)="[ Ok ]"›aB(1)="[Cancel]"››; Set radio buttons and defaults›rA(0)="One"›rA(1)="Two"›rA(2)="Three"›rB(0)="Choice A"›rB(1)="Choice B"›rB(2)="Choice C"›bRA=1›bRB=1›bRAp=bRA›bRBp=bRB››; Prep strings›SCopy(cA,"-100.00                                 ")›SCopy(cB,"This string has something to edit in it!")›SCopy(cC,"                                        ")›SCopy(cD,"Any String!                           ")››; Set checkbox defaults for previous›bChap=GCOFF›bChbp=GCON›bChcp=GCOFF›                            ›; Open window & draw contents›bW1=WOpen(2,2,36,17,WOFF)›WOrn(bW1,WPTOP,WPLFT,"Input Form")›WOrn(bW1,WPTOP,WPRGT,"Edit")›WOrn(bW1,WPBOT,WPLFT,cF)››WPrint(bW1,1,1,"Data Fields")›WPrint(bW1,2,2,"Numer:")›WPrint(bW1,2,3,"Alpha:")›WPrint(bW1,2,4,"AlNum:")›WPrint(bW1,2,5,"Any..:")››WPrint(bW1,1,7,"Radio Buttons (horiz)")›GRadio(bW1,2,8,GHORZ,GDISP,bRAp,3,rA)››WPrint(bW1,1,10,"Radio Buttons")›GRadio(bW1,2,11,GVERT,GDISP,bRBp,3,rB)›               ›WPrint(bW1,20,10,"Check Boxes")›WPrint(bW1,25,11,"Milk")›WPrint(bW1,25,12,"Bread")›WPrint(bW1,25,13,"Butter")›GCheck(bW1,21,11,GDISP,bChap)›GCheck(bW1,21,12,GDISP,bChbp)›GCheck(bW1,21,13,GDISP,bChcp)››GButton(bW1,21,15,GDISP,2,aB)››; Display fields as is›WPrint(bW1,8,2,cA)›WPrint(bW1,8,3,cB)›WPrint(bW1,8,4,cC)›WPrint(bW1,8,5,cD)››; Loop until form accepted or cancelled›DO›  ; Set initial menu selection›  bM=1››  ; Loop until user ESCapes or TABs out›  DO›    ; Cycle through fields›    bM=MenuV(bW1,2,2,WOFF,bM,5,"NumerAlphaAlNumAny..")›    ›    ; Edit the chosen field›    if bM=1 then›      WOrn(bW1,WPBOT,WPLFT,cI)›      bA=GInput(bW1,8,2,GNUMER,27,cA)›      WOrn(bW1,WPBOT,WPLFT,cF)››    elseif bM=2 then›      WOrn(bW1,WPBOT,WPLFT,cI)›      bB=GInput(bW1,8,3,GALPHA,27,cB) ›      WOrn(bW1,WPBOT,WPLFT,cF)››    elseif bM=3 then›      WOrn(bW1,WPBOT,WPLFT,cI)›      bC=GInput(bW1,8,4,GALNUM,27,cC) ›      WOrn(bW1,WPBOT,WPLFT,cF)››    elseif bM=4 then›      WOrn(bW1,WPBOT,WPLFT,cI)›      bD=GInput(bW1,8,5,GANY,27,cD) ›      WOrn(bW1,WPBOT,WPLFT,cF)›    fi›  UNTIL bM=XESC or bM=XTAB›  OD››  ; Display radio buttons - horizontal›  WOrn(bW1,WPBOT,WPLFT,cR)›  bRA=GRadio(bW1,2,8,GHORZ,GEDIT,bRAp,3,rA)›  if bRA#XESC and bRA#XTAB then›    bRAp=bRA›  fi›  GRadio(bW1,2,8,GHORZ,GDISP,bRAp,3,rA)››  ; Display radio buttons - veritcal›  bRB=GRadio(bW1,2,11,GVERT,GEDIT,bRBp,3,rB)›  if bRB#XESC and bRB#XTAB then›    bRBp=bRB›  fi›  GRadio(bW1,2,11,GVERT,GDISP,bRBp,3,rB)›  WOrn(bW1,WPBOT,WPLFT,cF)››  ; Check boxes, set footer›  WOrn(bW1,WPBOT,WPLFT,cX)››  ; Stay on this check until ESC, TAB, or SET›  DO›    ; Display button and get choice›    bCha=GCheck(bW1,21,11,GEDIT,bChap)››    ; If ESC or TAB, exit loop›    if bCha=XESC or bCha=XTAB then›      exit›    else›      ; Else, assign return to previous›      bChap=bCha›    fi›  OD››  ; Stay on this check until ESC, TAB, or SET›  DO                           ›    bChb=GCheck(bW1,21,12,GEDIT,bChbp)››    ; If ESC or TAB, exit loop›    if bChb=XESC or bChb=XTAB then›      exit›    else›      ; Else, assign return to previous›      bChbp=bChb›    fi›  OD››  ; Stay on this check until ESC, TAB, or SET›  DO›    bChc=GCheck(bW1,21,13,GEDIT,bChcp)››    ; If ESC or TAB, exit loop›    if bChc=XESC or bChc=XTAB then›      exit›    else›      ; Else, assign return to previous›      bChcp=bChc›    fi›  OD››  ; Restore footer        ›  WOrn(bW1,WPBOT,WPLFT,cF)››  ; If ESC out of fields, dont do buttons›  if bM#XESC then›    ; Prompt for form acceptance›    bM=GButton(bW1,21,15,1,2,aB)››    ; Redraw buttons›    GButton(bW1,21,15,GDISP,2,aB)›  fi›UNTIL bM#XTAB›OD››; Do something with data if accepted, set true exit›if bM=1 then›  bR=TRUE›  GAlert("Doing something with entered data...")›fi›             ›; Close window›WClose(bW1)››RETURN(bR)›››; -----------------------------------›; Main routine›; -----------------------------------›PROC Main()›BYTE bW1,bR››; Init Window System›WInit()››; Call form›bR=Form()›           ›; Check form return status›if bR=TRUE then›  GAlert("Returned TRUE (edited)")›else›  GAlert("Returned FALSE (escaped)")›fi                   ››RETURN››